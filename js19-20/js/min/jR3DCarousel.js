!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.fn.jR3DCarousel=function(n){function i(){return D.find("."+b.slideClass).eq(Z)}function a(){return D.find("."+b.slideClass).eq((Z+1)%Y)}function e(t){return D.find("."+b.slideClass+"[data-index="+t+"]")}function o(){this.animations={slide:s,slide3D:r,scroll:c,scroll3D:l,fade:d}}function s(t){C.css({perspective:"",overflow:"hidden"}),O=v*t,D.css({transform:"translateZ("+-g+"px) rotateY("+-O+"deg)"}),u()}function r(t){C.css({perspective:x,overflow:"visible"}),O=v*t,D.css({transform:"translateZ("+-g+"px) rotateY("+-O+"deg)"}),u()}function c(t){C.css({perspective:"",overflow:"hidden"}),O=v*t,D.css({transform:"translateZ("+-g+"px) rotateX("+-O+"deg)"}),u()}function l(t){C.css({perspective:x,overflow:"visible"}),O=v*t,D.css({transform:"translateZ("+-g+"px) rotateX("+-O+"deg)"}),u()}function d(t){D.css({transition:"opacity "+b.animationDuration+"ms "+b.animationCurve,opacity:0}),C.find(".nav").css({backgroundColor:"rgba(255, 255, 255, 0.77)"}).eq(S%Y).css({backgroundColor:"rgba(0, 0, 0, 1)"}),clearTimeout(n);var n=setTimeout(function(){O=v*t,D.css({transform:"translateZ("+-g+"px) rotateY("+-O+"deg)",opacity:1}),Z=(Math.round(O/v)-1)%Y,b.onSlideShow.call(this,a())},b.animationDuration)}function u(){C.find(".nav").css({backgroundColor:"rgba(255, 255, 255, 0.77)"}).eq(S%Y).css({backgroundColor:"rgba(0, 0, 0, 0.77)"}),Z=(Math.round(O/v)-1)%Y,b.onSlideShow.call(this,a())}function h(){C.width("100%"),I=C.width()<b.width?C.width():b.width,k=I/y,C.css({width:I+"px",height:k+"px"}),-1!=b.animation.indexOf("slide")?(g=I/2/Math.tan(Math.PI/Y),x=I/2*Math.tan(2*Math.PI/Y)+"px"):-1!=b.animation.indexOf("scroll")?(g=k/2/Math.tan(Math.PI/Y),x=k/2*Math.tan(2*Math.PI/Y)+"px"):"fade"==b.animation&&(g=I/2/Math.tan(Math.PI/Y),x=I/2*Math.tan(2*Math.PI/Y)+"px"),C.find("."+b.slideClass).each(function(n){var i=t(this);-1!=b.animation.indexOf("slide")?M="rotateY("+v*n+"deg) translateZ("+g+"px)":-1!=b.animation.indexOf("scroll")?M="rotateX("+v*n+"deg) translateZ("+g+"px)":"fade"==b.animation&&(M="rotateY("+v*n+"deg) translateZ("+g+"px)"),i.css({transform:M})}),x=b.perspective||x,D.css({transform:"translateZ("+-g+"px) rotateY("+-O+"deg)"}),C.css({perspective:x})}var f,p,m,v,g,x,M,w={width:1349,height:668,slides:[],slideLayout:"fill",perspective:0,animation:"slide3D",animationCurve:"ease",animationDuration:700,animationInterval:2e3,autoplay:!0,controls:!0,slideClass:"jR3DCarouselSlide",navigation:"circles",onSlideShow:function(){}},b=t.extend(!0,{},w,n),C=this,I=b.width,k=b.height,y=b.width/b.height,D=t("<div class='jR3DCarousel' />").css({width:"100%",height:"100%",transition:"transform "+b.animationDuration+"ms "+b.animationCurve,transformStyle:"preserve-3d"}).appendTo(C),Z=0,S=1,P=new o,O=0,Y=b.slides.length||C.find("."+b.slideClass).length;return function(){function n(){if(-1!=b.animation.indexOf("slide")?(g=I/2/Math.tan(Math.PI/Y),x=I/2*Math.tan(2*Math.PI/Y)+"px"):-1!=b.animation.indexOf("scroll")?(g=k/2/Math.tan(Math.PI/Y),x=k/2*Math.tan(2*Math.PI/Y)+"px"):"fade"==b.animation&&(g=I/2/Math.tan(Math.PI/Y),x=I/2*Math.tan(2*Math.PI/Y)+"px"),v=360/Y,b.slides.length)for(var n=0;n<b.slides.length;n++){var i=t("<div class='jR3DCarouselSlide' data-index="+n+" />").append("<img src='"+b.slides[n].src+"' alt='"+b.slides[n].alt+"' />");-1!=b.animation.indexOf("slide")?M="rotateY("+v*n+"deg) translateZ("+g+"px)":-1!=b.animation.indexOf("scroll")?M="rotateX("+v*n+"deg) translateZ("+g+"px)":"fade"==b.animation&&(M="rotateY("+v*n+"deg) translateZ("+g+"px)"),i.css({transform:M}),D.append(i)}else C.find("."+b.slideClass).each(function(n){var i=t(this).attr("data-index",n);-1!=b.animation.indexOf("slide")?M="rotateY("+v*n+"deg) translateZ("+g+"px)":-1!=b.animation.indexOf("scroll")?M="rotateX("+v*n+"deg) translateZ("+g+"px)":"fade"==b.animation&&(M="rotateY("+v*n+"deg) translateZ("+g+"px)"),i=i.css({transform:M}).detach(),D.append(i)});D.find("."+b.slideClass).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",backfaceVisibility:"hidden"}).find("img").css({width:"100%",height:"100%",objectFit:b.slideLayout}),x=b.perspective||x,C.css({perspective:x,width:I+"px",height:k+"px",position:"relative",overflow:"visible"})}function i(){f=t("<div class='previous controls' style='left: 8px; transform: rotate(-45deg);'></div>"),p=t("<div class='next controls' style='right: 8px; transform: rotate(135deg);'></div>"),f.on("click",function(){Z=Math.round(O/v),S=Z-1,P.run(b.animation,S)}),p.on("click",function(){Z=Math.round(O/v),S=Z+1,P.run(b.animation,S)}),C.on("mouseenter touchstart",function(){f.add(p).fadeIn()}).on("mouseleave touchcancel",function(){f.add(p).fadeOut()}),t(document).on("keydown",function(t){var n=C[0].getBoundingClientRect(),i=n.bottom>0&&n.right>0&&n.left<(innerWidth||document.documentElement.clientWidth)&&n.top<(innerHeight||document.documentElement.clientHeight);i&&37==t.which?(clearInterval(m),f.click()):i&&39==t.which&&(clearInterval(m),p.click())}),a(C,function(t){clearInterval(m),"left"==t?p.click():"right"==t?f.click():-1!=b.animation.indexOf("scroll")&&("down"==t?p.click():"up"==t&&f.click())})}function a(t,n){var i,a,e,o,s,r,c,l=t,d=20,u=100,h=700;l.on("touchstart",function(t){var n=t.originalEvent.changedTouches[0];i="none",a=n.pageX,e=n.pageY,c=(new Date).getTime()}).on("touchmove",function(t){t.preventDefault()}).on("touchend",function(t){var l=t.originalEvent.changedTouches[0];o=l.pageX-a,s=l.pageY-e,r=(new Date).getTime()-c,h>=r&&(Math.abs(o)>=d&&Math.abs(s)<=u?i=0>o?"left":"right":Math.abs(s)>=d&&Math.abs(o)<=u&&(i=0>s?"up":"down")),n(i)})}function e(){for(var n=b.navigation,i=t("<div class=navigation />").css({position:"absolute",bottom:0,right:532}),a=0;Y>a;a++)i.append("<div class=nav></div>");"circles"==n&&i.find(".nav").css({borderRadius:"12px"}),i.find(".nav").css({display:"inline-block",margin:"8px",cursor:"pointer",backgroundColor:"rgba(255, 255, 255, 0.77)",width:"10px",height:"10px",border:"3px solid #E3F3FB",transition:"all "+b.animationDuration+"ms ease"}).first().css({backgroundColor:"rgba(0, 0, 0, 1)"}),D.after(i),C.on("click",".nav",function(){S=t(this).index(),P.run(b.animation,S)}),C.on("click",".nav-slider__item",function(n){S=t(this).index(),P.run(b.animation,S),n.preventDefault()})}function o(){m=setInterval(function(){Z=Math.round(O/v),S=Z+1,P.run(b.animation,S)},b.animationInterval+b.animationDuration),C.hover(function(){clearInterval(m)},function(){m=setInterval(function(){Z=Math.round(O/v),S=Z+1,P.run(b.animation,S)},b.animationInterval+b.animationDuration)})}n(),b.controls&&i(),b.navigation&&e(),b.autoplay&&o(),addEventListener("resize",h),h()}(),o.prototype.run=function(t,n){this.animations[t](n)},this.showSlide=function(t){D.find(".nav").eq((t-1)%Y).click()},this.getCurrentSlide=function(){return i()},this.getSlideByIndex=function(t){return e(t)},this.showPreviousSlide=function(){f.click()},this.showNextSlide=function(){p.click()},this}});